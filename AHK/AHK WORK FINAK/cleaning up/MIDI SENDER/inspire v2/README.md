# AHK-MIDI-Transformer2

MIDIデバイスのベロシティ固定とスケール固定を行うAutoHotkey v2用スクリプトです。

タスクバーのメニューからインプットデバイス(MIDIキーボードなど)とアウトプットデバイス(loopMIDI仮想デバイスなど)を選択します。
タスクバーのSettingメニューから動作の設定ができます。

## Auto Scale
白鍵のみでスケールを演奏できるようになります。設定ウィンドウでキーやスケールを変更できます。  
強制的にCがルート音にります。例えばキーをFにするとCでFが鳴ります。  
C Majorにしておくと何も変更されない通常通りの動作となります。起動し直すとC Majorに戻ります。  

## Chord In White Key
白鍵1キーでコードを弾ける機能です。

## Fixed Velocity
ベロシティの値を固定させます。0-127の間で変更できます。0のときはオフになります。設定ウィンドウの他CCでも変更できます。  
CCで変更したい場合一度起動して終了させ、同じ階層に作られたiniファイルの
```
fixedVelocityCC=21
```
の部分をお望みの数字に書き換えてください。デフォルトでは相対値(65で+、63で-)で変わります。絶対値で変更したい場合は
```
CCMode=1
```
の設定を0にしてください。

デフォルトの相対値で変更する設定にしている場合、Ctrlキーを押しながらこのCCを変化させるとトランスポーズの設定をオクターブ単位で変更できます。Shiftキーを押しながらだとAuto Scaleの設定を変更できます。


## ファイル構成

### AHK-MIDI-Transformer2.ahk

本体です。通常はこれを起動させます。


### Midi2.ahk

必要なライブラリです。[AutoHotkey-Midiをforkして改造したバージョン](https://github.com/hetima/AutoHotkey-Midi)です。

### icon.ico

タスクトレイに表示されるアイコンです。

